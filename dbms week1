create database 1bm21cs032_Insurance;
use 1bm21cs032_Insurance;
show tables;

drop table person;
drop table car;

create table Person(
driver_id varchar (5) primary key,
name_ varchar(20),
address varchar(20));

create table Car(
reg_num varchar (10),
model varchar(20),
year int(4),
primary key(reg_num)
);

create table Owns(
driver_id varchar (5),
reg_num varchar (10),
primary key(driver_id,reg_num),
foreign key (driver_id) references person(driver_id) on update cascade,
foreign key(reg_num) references car(reg_num) on update cascade);

create table Accident(
report_num int(5) primary key,
accident_date varchar(10),
location varchar(10)
);

create table Praticipated(
driver_id varchar (5),
reg_num varchar (10),
report_num int(5),
damage_amount int(20),
primary key (driver_id,reg_num,report_num),
foreign key (driver_id) references person(driver_id) on update cascade,
foreign key(reg_num) references car(reg_num) on update cascade,
foreign key(report_num) references accident(report_num) on update cascade
);

insert into Person (driver_id, name_, address) values ('A01',	'Richard',	'Srinivas nagar');
insert into Person (driver_id, name_, address) values ('A02',	'Pradeep',	'Rajaji nagar');
insert into Person (driver_id, name_, address) values ('A03',	'Pradeep',	'Rajaji nagar'),('A04',	'Venu',	'N R Colony'),
('A05',	'Jhon',	'Hanumanth nagar');
